library(rjson)
toJSON("{
"model_step": "population",
"preceding_step": ["flow","streamtemp"],
"model_description": "IPM salmon model by Krzysztof Sakrejda"
}
")
fromJSON("{
"model_step": "population",
"preceding_step": ["flow","streamtemp"],
"model_description": "IPM salmon model by Krzysztof Sakrejda"
}
")
toJSON(list(model_step="population",description="sfsf description"))
matrix(c(1,2,3,4,5,6,7,8,9,10,11,12),c(4,4,4,1,1,2,2,2,3,3,3,4))
c(c(1,2,3,4,5,6,7,8,9,10,11,12),c(4,4,4,1,1,2,2,2,3,3,3,4))
matrix(c(1,2,3,4,5,6,7,8,9,10,11,12,4,4,4,1,1,2,2,2,3,3,3,4),2)
matrix(c(1,2,3,4,5,6,7,8,9,10,11,12,4,4,4,1,1,2,2,2,3,3,3,4),12)
GCMDays <- read.table("c:/documents/github/somepath/data/flow_data/Days_For_ABCDE_GCM.txt",header=TRUE)
testingargs<-list(basin_dir="c:/documents/github/somepath/basins",
run_dir=file.path(run_dir1,"drought40"),
data_dir=data_dir)
setwd(r_dir)
rm(list=ls())
r_dir<-"/home/ana/testing/r"
basin_dir<-"c:/documents/github/somepath/basins"
data_dir<-"c:/documents/github/somepath/data"
run_dir1<-"c:/documents/github/testing/somepath2/runs"
r_dir<-"c:/documents/github/testing/r"
testingargs<-list(basin_dir="c:/documents/github/somepath/basins",
run_dir=file.path(run_dir1,"drought40"),
data_dir=data_dir)
setwd(r_dir)
this_dir<-getwd()
source("./supporting_scripts/param_startup.R")
source("./supporting_scripts/plot_functions.R")
source("./supporting_scripts/Hargreaves.R") #This generates ET values and may get moved to the met section
GCMDays <- read.table(paste0(args$data_dir,"/flow_data/Days_For_ABCDE_GCM.txt"),header=TRUE)
setwd("C:/Documents/GitHub/testing/temp_files")
load("met.Rdata")
load("temp.Rdata")
load("flow.Rdata")
r("B1",5)
rep("B1",5)
sres<-c(rep("B1",37),rep("A2",36),rep("A1b",39))
final_met[1:10,1,]
GCMDays[1:10,]
GCMDays[nrow(GCMDays),]
dim(final_met)
nrow(GCMDays)
final_met[1:10,1,]
gcm.met<-as.data.frame(final_met)
names(gcm.met)
gcm.met[1,,]
gcm.met[1,,1]
gcm.met[1,1:10,1]
gcm.met[1:10,1,]
dim(gcm.met)
dim(final_met)
final_met[1:10,1,]
gcm.met<-as.data.frame(final_met)
tmax<-as.data.frame(final_met[,1,])
tmin<-as.data.frame(final_met[,1,])
precip<-as.data.frame(final_met[,1,])
GCMDays[1:10,]
tmax$year<-GCMDays$Year
tmax$year<-GCMDays[$]1:1788,"Year"]
tmax$year<-GCMDays[1:1788,"Year"]
final_met[1:10,1,]
dim(final_met)
dim(GCMDays)
GCMDays[nrow(GCMDays),]
tmax$year<-c(GCMDays$Year,2099,2099)
tmax<-as.data.frame(final_met[,1,])
tmax$year<-c(GCMDays$Year,2099,2099)
tmax$year<-c(GCMDays$Year,rep(2099,10))
dim(GCMDays)
dim(final_met)
tmax<-as.data.frame(final_met[,1,])
tmax$year<-c(GCMDays$Year,rep(2099,12))
GCMDays[1,]
GCMDays[nrow(GCMDays),]
tmax$year<-c(GCMDays$Year,rep(2099,12))
tmax$month<-c(GCMDays$Month,1:12)
tmax[1780:1800,]
tmin$year<-c(GCMDays$Year,rep(2099,12))
tmin$month<-c(GCMDays$Month,1:12)
precip$year<-c(GCMDays$Year,rep(2099,12))
precip$month<-c(GCMDays$Month,1:12)
sres<-c(rep("B1",37),rep("A2",36),rep("A1b",39))
length(sres)
ncol(tmax)
tmax<-as.data.frame(final_met[,,1])
tmin<-as.data.frame(final_met[,,1])
precip<-as.data.frame(final_met[,1,])
precip<-as.data.frame(final_met[,,1])
tmax$year<-c(GCMDays$Year,rep(2099,12))
tmax$month<-c(GCMDays$Month,1:12)
tmin$year<-c(GCMDays$Year,rep(2099,12))
tmin$month<-c(GCMDays$Month,1:12)
precip$year<-c(GCMDays$Year,rep(2099,12))
precip$month<-c(GCMDays$Month,1:12)
sres<-c(rep("B1",37),rep("A2",36),rep("A1b",39))
length(sres)
ncol(tmax)
37+38+39
37+36+39
sres<-c(rep("B1",37),rep("A2",36),rep("A1b",39))
length(sres)
load("met.Rdata")
dim(final_met)
tmax<-as.data.frame(final_met[,,1])
tmin<-as.data.frame(final_met[,,2])
precip<-as.data.frame(final_met[,,3])
dim(tmax)
length(sres)
ncol(tmax)
colnames(tmax)<-sres
colnames(tmin)<-sres
colnames(precip)<-sres
tmax[1:10,]
#there is one extra year in Austin's gcm data
tmax$year<-c(GCMDays$Year,rep(2099,12))
tmax$month<-c(GCMDays$Month,1:12)
tmin$year<-c(GCMDays$Year,rep(2099,12))
tmin$month<-c(GCMDays$Month,1:12)
precip$year<-c(GCMDays$Year,rep(2099,12))
precip$month<-c(GCMDays$Month,1:12)
tmax[1:10,]
tmax<-tmax[,c(113,114,1:112)]
tmax[1:10,]
tmin<-tmin[,c(113,114,1:112)]
precip<-precip[,c(113,114,1:112)]
B1.cols<-"B1" %in% colnames(tmax)
B1.cols
B1.cols<-colnames(tmax)["B1" %in% colnames(tmax) ]
B1.cols
sres<-c("year","month",sres)
sres
sres=="B1"
B1.cols<-colnames(tmax)[sres=="B1"]
B1.cols
B1.tmax.start<-[1:120,B1.cols]
B1.tmax.start<-tmax[1:120,B1.cols]
tmax[1:120,B1.cols]
B1.tmax.start<-mean(tmax[1:120,B1.cols])
B1.tmax.start<-sapply(tmax[1:120,B1.cols],mean)
B1.tmax.start
B1.tmax.start<-mean(sapply(tmax[1:120,B1.cols],mean))
B1.tmax.start
B1.tmax.start<-mean((tmax[1:120,B1.cols],mean))
B1.tmax.start<-mean(tmax[1:120,B1.cols])
B1.tmax.start<-colMeans(tmax[1:120,B1.cols])
B1.tmax.start
B1.tmax.start<-mean(colMeans(tmax[1:120,B1.cols]))
B1.tmin.start<-mean(colMeans(tmin[1:120,B1.cols]))
B1.tmax.start
B1.tmin.start
B1.tavg.start<-mean(B1.tmax.start,B1.tmin.start)
B1.tavg.start
B1.tmax.start<-mean(colMeans(tmax[1:120,B1.cols]))
B1.tmin.start<-mean(colMeans(tmin[1:120,B1.cols]))
B1.tmin.start
B1.tavg.start<-mean(B1.tmax.start,B1.tmin.start)
B1.tavg.start
B1.tmax.start
B1.tavg.start<-mean(B1.tmin.start,B1.tmax.start)
B1.tmin.start
B1.tmax.start
B1.tavg.start
mean(12.9,1.4)
class(B1.tmax.start)
(B1.tmin.start+B1.tmax.start)/2
mean(13.9,1.4)
